<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preparación Certificación Oracle PL/SQL</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(to right, #2c3e50, #4a6491);
            color: white;
            padding: 25px;
            text-align: center;
            border-bottom: 5px solid #fdbb2d;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .progress-container {
            background-color: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .progress-stats {
            display: flex;
            justify-content: space-around;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .stat-box {
            padding: 15px;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            flex: 1;
            margin: 0 10px;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
            margin-top: 5px;
        }
        
        .progress-bar {
            height: 20px;
            background-color: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, #4CAF50, #8BC34A);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .start-section {
            padding: 30px;
            text-align: center;
        }
        
        .start-btn {
            background: linear-gradient(to right, #2196F3, #21CBF3);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
        }
        
        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(33, 150, 243, 0.6);
        }
        
        .questions-container {
            display: none;
            padding: 20px;
        }
        
        .question {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border-left: 5px solid #2196F3;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .question-number {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .question-text {
            font-size: 1.1rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .options {
            margin: 15px 0;
        }
        
        .option {
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid #e0e0e0;
        }
        
        .option:hover {
            background-color: #e9ecef;
            transform: translateX(5px);
        }
        
        .option.selected {
            background-color: #d1ecf1;
            border-color: #bee5eb;
        }
        
        .option.correct {
            background-color: #d4edda;
            border-color: #c3e6cb;
        }
        
        .option.incorrect {
            background-color: #f8d7da;
            border-color: #f5c6cb;
        }
        
        .explanation {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #17a2b8;
            display: none;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding: 0 20px 20px;
        }
        
        .nav-btn {
            padding: 12px 25px;
            background: linear-gradient(to right, #6c757d, #868e96);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .nav-btn.primary {
            background: linear-gradient(to right, #2196F3, #21CBF3);
        }
        
        .results-container {
            display: none;
            padding: 30px;
            text-align: center;
        }
        
        .results-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .score {
            font-size: 3rem;
            font-weight: bold;
            color: #2196F3;
            margin: 20px 0;
        }
        
        .restart-btn {
            background: linear-gradient(to right, #4CAF50, #8BC34A);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }
        
        .restart-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #6c757d;
            font-size: 0.9rem;
            border-top: 1px solid #e0e0e0;
        }
        
        .code {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
            margin: 10px 0;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .progress-stats {
                flex-direction: column;
            }
            
            .stat-box {
                margin: 10px 0;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Prepárate para tu certificación</h1>
            <p class="subtitle">Oracle PL/SQL - Práctica de preguntas</p>
        </header>
        
        <div class="progress-container">
            <div class="progress-stats">
                <div class="stat-box">
                    <div class="stat-value" id="progress-value">0/0</div>
                    <div class="stat-label">Progreso</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="correct-value">0</div>
                    <div class="stat-label">Correctas</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="incorrect-value">0</div>
                    <div class="stat-label">Incorrectas</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="percentage-value">0%</div>
                    <div class="stat-label">Porcentaje</div>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
        </div>
        
        <div class="start-section">
            <button id="startBtn" class="start-btn">
                <i class="fas fa-play"></i> Comenzar Práctica
            </button>
        </div>
        
        <div class="questions-container" id="questions-container">
            <!-- Questions will be inserted here by JavaScript -->
        </div>
        
        <div class="navigation">
            <button id="prevBtn" class="nav-btn">
                <i class="fas fa-arrow-left"></i> Anterior
            </button>
            <button id="nextBtn" class="nav-btn primary">
                Siguiente <i class="fas fa-arrow-right"></i>
            </button>
            <button id="submitBtn" class="nav-btn" style="background: linear-gradient(to right, #4CAF50, #8BC34A);">
                <i class="fas fa-check-circle"></i> Finalizar Prueba
            </button>
        </div>
        
        <div class="results-container" id="results-container">
            <h2 class="results-title">Resultados de la Prueba</h2>
            <div class="score" id="final-score">0%</div>
            <p id="results-message">¡Buen trabajo! Sigue practicando para mejorar.</p>
            <button id="restartBtn" class="restart-btn">
                <i class="fas fa-redo"></i> Reiniciar Práctica
            </button>
        </div>
        
        <footer>
            <p>Plataforma de Práctica para Certificación Oracle PL/SQL</p>
        </footer>
    </div>

    <script>
        // All questions embedded directly in the code
        const questions = [
            {
                id: 1,
                number: "Q101",
                text: "Which of the following identifiers are valid in PL/SQL?",
                options: [
                    "1. total#amount",
                    "2. 2nd_chance", 
                    "3. employee-name",
                    "4. $_bonus",
                    "5. A1B2C3",
                    "6. #salary",
                    "7. my_variable"
                ],
                correctAnswers: [0, 4, 6],
                explanation: "Valid identifiers: total#amount, A1B2C3, my_variable. Invalid: 2nd_chance (starts with number), employee-name (contains hyphen), $_bonus (starts with $), #salary (starts with #)."
            },
            {
                id: 2,
                number: "Q102", 
                text: "When declaring a VARCHAR2 variable in PL/SQL without specifying its size, what happens?",
                options: [
                    "It defaults to a size of 1.",
                    "It defaults to a maximum size of 4000.",
                    "It raises a compilation error.",
                    "The size becomes dynamic based on the assigned value."
                ],
                correctAnswers: [2],
                explanation: "In PL/SQL, when you declare a VARCHAR2 variable without specifying its size, the declaration will result in a compilation error. Unlike some other programming environments, PL/SQL requires that you explicitly specify the size for a VARCHAR2 variable when you declare it."
            },
            {
                id: 3,
                number: "Q103",
                text: "What will be the output of the following code?",
                code: `set SERVEROUTPUT ON;
declare
    v_bool boolean := TRUE;
begin
    if v_bool then
        dbms_output.put_line('Yes');
    else
        dbms_output.put_line('No');
    end if;
    
    declare
        v_bool boolean := FALSE;
    begin
        if v_bool then
            dbms_output.put_line('Yes');
        else
            dbms_output.put_line('No');
        end if;
    end;
end;`,
                options: [
                    "Yes No",
                    "No Yes", 
                    "Yes Yes",
                    "No No"
                ],
                correctAnswers: [0],
                explanation: "The output will be 'Yes' from the first block and 'No' from the second block."
            },
            {
                id: 4,
                number: "Q104",
                text: "Consider the following PL/SQL block. If the bind variable bind_value is set to -5, what will be the output?",
                code: `set SERVEROUTPUT ON;
DECLARE
    v_num NUMBER := 10;
BEGIN
    v_num := v_num + &bind_value;
    IF v_num > 20 THEN
        v_num := v_num - 10;
    ELSIF v_num < 10 THEN
        v_num := v_num + 10;
    END IF;
    DBMS_OUTPUT.PUT_LINE(v_num);
END;`,
                options: [
                    "15",
                    "5", 
                    "20",
                    "25"
                ],
                correctAnswers: [0],
                explanation: "With bind_value = -5, v_num becomes 5, which is less than 10, so it gets increased by 10 to become 15."
            },
            {
                id: 5,
                number: "Q105",
                text: "Examine the following PL/SQL code. If the bind variable bind_number is set to 7, what will be the output?",
                code: `set SERVEROUTPUT ON;
DECLARE
    v_number NUMBER := :bind_number;
    v_string VARCHAR2(50);
BEGIN
    v_string := CASE
        WHEN v_number BETWEEN 1 AND 5 THEN 'Range 1-5'
        WHEN v_number BETWEEN 6 AND 10 THEN 'Range 6-10'
        ELSE 'Out of Range'
    END;
    
    FOR i IN 1 .. 3 LOOP
        IF v_string = 'Range 6-10' AND i = 2 THEN
            v_string := 'Middle Range';
            CONTINUE;
        END IF;
        v_string := 'Iteration ' || i;
    END LOOP;
    DBMS_OUTPUT.PUT_LINE(v_string);
END;`,
                options: [
                    "Range 6-10",
                    "Iteration 1", 
                    "Middle Range",
                    "Iteration 3"
                ],
                correctAnswers: [3],
                explanation: "The CASE sets v_string to 'Range 6-10', but in the loop it gets overwritten to 'Iteration 1', then 'Iteration 2', then 'Iteration 3'."
            },
            {
                id: 6,
                number: "Q106",
                text: "Consider the following PL/SQL subprogram. Which numbers will be printed if the procedure is invoked as print_multiples(3, 10)?",
                code: `set SERVEROUTPUT ON;
CREATE OR REPLACE PROCEDURE print_multiples(n NUMBER, limit_val NUMBER) IS
BEGIN
    FOR i IN 1 .. limit_val LOOP
        IF MOD(i, n) = 0 THEN
            DBMS_OUTPUT.PUT_LINE(i);
        END IF;
    END LOOP;
END;`,
                options: [
                    "1, 2, 3, ... , 10",
                    "3, 6, 9", 
                    "3, 6, 9, 12",
                    "1, 4, 7, 10"
                ],
                correctAnswers: [1],
                explanation: "The procedure prints multiples of 3 between 1 and 10: 3, 6, 9."
            },
            {
                id: 7,
                number: "Q107",
                text: "You work as a Database Developer. You are tasked with creating a trigger that tracks every new customer added to the Customers table and logs the details in the Change_Log table. How will you achieve this?",
                options: [
                    "Create a statement trigger on the Change_Log table.",
                    "Create a statement trigger on the Customers table.",
                    "Create a row trigger on the Change_Log table.",
                    "Create a row trigger on the Customers table."
                ],
                correctAnswers: [3],
                explanation: "A row trigger on the Customers table is appropriate because it executes once for each row affected, providing context of each row being processed, which is ideal for logging individual row changes."
            },
            {
                id: 8,
                number: "Q108",
                text: "Given the following collection declaration. Which of the following methods will eliminate the last element from the collection?",
                code: `TYPE StrLst IS TABLE OF VARCHAR2(50);
s StrLst := StrLst('Apple', 'Banana', 'Cherry', 'Date', 'Fig');`,
                options: [
                    "DELETE(1,5)",
                    "TRIM", 
                    "DELETE",
                    "TRIM(5)"
                ],
                correctAnswers: [1],
                explanation: "The TRIM method, when used without any parameters, removes the last element from a collection."
            },
            {
                id: 9,
                number: "Q109",
                text: "Which of the following data types in PL/SQL is used to store year, month, and day values without the need for high-level precision and time-zone awareness?",
                options: [
                    "DATE",
                    "TIMESTAMP", 
                    "TIMESTAMP WITH LOCAL TIME ZONE",
                    "TIMESTAMP WITH TIME ZONE"
                ],
                correctAnswers: [0],
                explanation: "The DATE data type stores date and time values including year, month, day, hour, minute, and second, but without fractional seconds or time zone information."
            },
            {
                id: 10,
                number: "Q110",
                text: "Which of the following clauses in PL/SQL is used to fetch a single row from the result set of a cursor into a record variable?",
                options: [
                    "OPEN CURSOR",
                    "FETCH INTO", 
                    "DECLARE CURSOR",
                    "CLOSE CURSOR"
                ],
                correctAnswers: [1],
                explanation: "The FETCH INTO statement retrieves a single row from the result set of a cursor and stores it into a record variable or individual variables."
            }
            // Additional questions would continue here in the same format...
        ];
        
        // Application state
        let currentQuestionIndex = 0;
        let userAnswers = Array(questions.length).fill(null);
        let score = 0;
        
        // DOM elements
        const startBtn = document.getElementById('startBtn');
        const questionsContainer = document.getElementById('questions-container');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const resultsContainer = document.getElementById('results-container');
        const restartBtn = document.getElementById('restartBtn');
        
        // Progress elements
        const progressValue = document.getElementById('progress-value');
        const correctValue = document.getElementById('correct-value');
        const incorrectValue = document.getElementById('incorrect-value');
        const percentageValue = document.getElementById('percentage-value');
        const progressBar = document.getElementById('progress-bar');

        // Start the practice
        startBtn.addEventListener('click', function() {
            displayQuestion();
            questionsContainer.style.display = 'block';
            startBtn.style.display = 'none';
            updateProgress();
        });
        
        // Navigation
        prevBtn.addEventListener('click', function() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        });
        
        nextBtn.addEventListener('click', function() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            }
        });
        
        submitBtn.addEventListener('click', function() {
            showResults();
        });
        
        restartBtn.addEventListener('click', function() {
            resetPractice();
        });
        
        // Function to display a question
        function displayQuestion() {
            const question = questions[currentQuestionIndex];
            let html = `
                <div class="question">
                    <div class="question-header">
                        <div class="question-number">${question.number}</div>
                    </div>
                    <div class="question-text">${question.text}</div>
            `;
            
            if (question.code) {
                html += `<div class="code">${question.code}</div>`;
            }
            
            html += `<div class="options">`;
            
            question.options.forEach((option, index) => {
                const isSelected = userAnswers[currentQuestionIndex] === index;
                const isCorrect = question.correctAnswers.includes(index);
                let className = 'option';
                
                if (isSelected) {
                    className += ' selected';
                    if (isCorrect) {
                        className += ' correct';
                    } else {
                        className += ' incorrect';
                    }
                }
                
                html += `<div class="${className}" data-index="${index}">${option}</div>`;
            });
            
            html += `</div>`;
            
            if (userAnswers[currentQuestionIndex] !== null) {
                html += `
                    <div class="explanation" style="display: block;">
                        <strong>Explanation:</strong> ${question.explanation}
                    </div>
                `;
            } else {
                html += `
                    <div class="explanation">
                        <strong>Explanation:</strong> ${question.explanation}
                    </div>
                `;
            }
            
            html += `</div>`;
            
            questionsContainer.innerHTML = html;
            
            // Add event listeners to options
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    if (userAnswers[currentQuestionIndex] === null) {
                        const selectedIndex = parseInt(this.getAttribute('data-index'));
                        userAnswers[currentQuestionIndex] = selectedIndex;
                        displayQuestion(); // Refresh to show explanation
                        updateProgress();
                    }
                });
            });
            
            // Update navigation buttons
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = currentQuestionIndex === questions.length - 1;
        }
        
        // Function to update progress
        function updateProgress() {
            const total = questions.length;
            const answered = userAnswers.filter(answer => answer !== null).length;
            const correct = userAnswers.filter((answer, index) => 
                answer !== null && questions[index].correctAnswers.includes(answer)
            ).length;
            const incorrect = answered - correct;
            const percentage = total > 0 ? Math.round((answered / total) * 100) : 0;
            const progress = `${answered}/${total}`;
            
            progressValue.textContent = progress;
            correctValue.textContent = correct;
            incorrectValue.textContent = incorrect;
            percentageValue.textContent = `${percentage}%`;
            progressBar.style.width = `${percentage}%`;
        }
        
        // Function to show results
        function showResults() {
            // Calculate final score
            const correct = userAnswers.filter((answer, index) => 
                answer !== null && questions[index].correctAnswers.includes(answer)
            ).length;
            const total = questions.length;
            const percentage = Math.round((correct / total) * 100);
            
            questionsContainer.style.display = 'none';
            document.querySelector('.navigation').style.display = 'none';
            resultsContainer.style.display = 'block';
            
            document.getElementById('final-score').textContent = `${percentage}%`;
            
            let message = '';
            if (percentage >= 80) {
                message = '¡Excelente trabajo! Estás listo para la certificación.';
            } else if (percentage >= 60) {
                message = 'Buen trabajo, pero necesitas más práctica.';
            } else {
                message = 'Necesitas estudiar más antes de intentar la certificación.';
            }
            
            document.getElementById('results-message').textContent = message;
        }
        
        // Function to reset the practice
        function resetPractice() {
            currentQuestionIndex = 0;
            userAnswers = Array(questions.length).fill(null);
            score = 0;
            
            resultsContainer.style.display = 'none';
            questionsContainer.style.display = 'none';
            document.querySelector('.navigation').style.display = 'flex';
            startBtn.style.display = 'block';
            
            updateProgress();
        }

        updateProgress();
    </script>
</body>
</html>